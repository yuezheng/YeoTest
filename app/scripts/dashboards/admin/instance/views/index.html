<div>
  <div class='instance_tabs'>
    <ul>
        <li ng-repeat="tab in tabs"
            ng-class="{active:isActiveTab(tab.template)}"
            class="tab"
            ng-click="onClickTab(tab)" ng-if="tab.enable">{{tab.title}}</li>
    </ul>
  </div>

<div id="mainView">
    <div ng-include="currentTab"></div>
</div>

<script type="text/ng-template" id="one.tpl.html">
  <div id="viewOne" class='table-tab ui-view-container'>
      <div class='action_group'>
        <button class='btn vnc' ng-class="vncLinkEnableClass" ng-model='singleSelectedItem' ng-click="detailShow(singleSelectedItem.id)" >
            <i></i>
            <a href="#/admin/instance/{{singleSelectedItem.id}}/console">VNC Console</a></button>
        <button class='btn del' ng-class="batchActionEnableClass" ng-click='deleteServer()'><i></i>Delete</button>
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle btn-enable more" data-toggle="dropdown"><i></i>
          More Action
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li ng-repeat="action in batchActions">
          <a ng-click="serverAction($index, 'batch')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
          <li class='split-line'></li>
          <li ng-repeat="action in mantanceActions">
          <a ng-click="serverAction($index, 'mantance')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
          <li class='split-line'></li>
          <li ng-repeat="action in networkActions">
          <a ng-click="serverAction($index, 'network')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
          <li class='split-line'></li>
          <li ng-repeat="action in volumeActions">
          <a ng-click="serverAction($index, 'volume')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
        </ul>
        </div>
        <button class='btn btn-enable' ng-click='refresResource(instances)'><i></i>Refresh</button>
      </div>
    <!-- TODO(ZhengYue): Make the data table unification -->
    <table class="table table-striped table-condensed table-hover cross-data-table instances-table">
      <thead>
        <tr class='cross-data-table-header'>
          <th class='checkbox-in-table'>
            <select-all-checkbox checkboxes='instances' all-selected="AllSelectedItems" all-clear="NoSelectedItems"></select-all-checkbox>
          </th>
          <th ng-repeat='col in columnDefs' ng-class=col.field custom-sort order=col.field sort="sort">{{col.displayName}}</th>
        </tr>
      </thead>
      <tbody class='cross-data-table-body'>
        <tr ng-repeat='instance in instances| orderBy:sort.sortingOrder:sort.reverse' ng-class="{even: $even, odd: $odd}" class='cross-data-table-body-row'>
            <td class='checkbox-in-table'><input type='checkbox' ng-model="instance.isSelected" ng-change="selectChange()"/></td>
            <td ng-repeat='col in columnDefs' class='cross-data-table-body-cell ngCellText' >
                <div dynamic=col.cellTemplate></div>
            </td>
        </tr>
       </tbody>
       <tfoot class='cross-data-table-foot'>
         <td colspan="9">
<div ng-show="showFooter" class="ngFooterPanel" ng-class="{'ui-widget-content': jqueryUITheme, 'ui-corner-bottom': jqueryUITheme}" ng-style="footerStyle()">
  <div class="ngTotalSelectContainer" >
    <div class="ngFooterTotalItems" ng-class="{'ngNoMultiSelect': !multiSelect}" >
      <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>
    </div>
    <div class="ngFooterSelectedItems" ng-show="multiSelect">
      <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>
    </div>
  </div>
  <div class='pageCode'>
      <li ng-show='unFristPage' ng-click="gotoPage('frist')" class="change-page" data-toggle="tooltip" data-placement="top" title="Frist Page">&lt;&lt;</li>
      <li ng-show='unFristPage' ng-click="gotoPage('pre')" class="change-page" data-toggle="tooltip" data-placement="top" title="Prev Page">&lt;</li>
      <li ng-repeat="page in showPages" class="page{{page+1==pagingOptions.currentPage }}" ng-click="gotoPage($index)">{{ page + 1 }}</li>
      <li ng-show='unLastPage' ng-click="gotoPage('next')" class="change-page" data-toggle="tooltip" data-placement="top" title="Next Page">&gt;</li>
      <li ng-show='unLastPage' ng-click="gotoPage('last')" class="change-page" data-toggle="tooltip" data-placement="top" title="Last Page">&gt;&gt;</li>
  </div>
</div>
          </td>
       </tfoot>
    <div ui-view ng-init="detail_show='detail_hide'" class="detail-panel" ng-class={{"detail_show"}} ng-style="{height: detailHeight, minHeight: 480, width: detailWidth, left: offsetLeft}"></div>
    </table>
  </div>
</script>

<script type="text/ng-template" id="two.tpl.html">
    <div id="viewTwo">
      <div class='action_group'>
          <button class='btn' ng-class="batchActionEnableClass">VNC Console</button>
        <button class='btn' ng-click='deleteServer()'>Delete</button>
        <div class="btn-group">
        <button type="button" class="btn btn-default dropdown-toggle btn-enable" data-toggle="dropdown">
          More Action
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li ng-repeat="action in batchActions">
          <a ng-click='serverAction($index, "batch")' ng-class="action.action"><i></i>{{action.verbose}}</a></li>
          <li class='split-line'></li>
          <li ng-repeat="action in mantanceActions">
          <a ng-click="serverAction('{{action.action}}')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
          <li class='split-line'></li>
          <li ng-repeat="action in networkActions">
          <a ng-click="serverAction('{{action.action}}')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
          <li class='split-line'></li>
          <li ng-repeat="action in volumeActions">
          <a ng-click="serverAction('{{action.action}}')"><i ng-class="action.action"></i>{{action.verbose}}</a></li>
        </ul>
        </div>
      </div>
    </div>
</script>

<script type="text/ng-template" id="three.tpl.html">
    <div id="viewThree">
        <h1>View Three</h1>
    </div>
</script>

<!-- TODO(ZhengYue): Separate the part of table-->
</div>
